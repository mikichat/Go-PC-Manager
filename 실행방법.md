# Go PC Management System 실행 방법

## 사전 요구사항
- Go 1.20 이상 설치 필요
- Windows 환경 (현재 에이전트는 Windows에 최적화됨)

## 실행 순서

### 1. 의존성 설치

#### 서버 의존성 설치
```powershell
cd server
go mod download
```

#### 에이전트 의존성 설치
```powershell
cd agent
go mod download
```

### 2. 서버 실행

**방법 1: 직접 실행 (개발용)**
```powershell
cd server
go run main.go
```

**방법 2: 빌드 후 실행**
```powershell
cd server
go build -o gopc-server.exe
./gopc-server.exe
```

서버가 성공적으로 시작되면 다음과 같은 메시지가 표시됩니다:
```
http server started on :8080
```

### 3. 에이전트 실행

**새 터미널 창을 열고:**

**방법 1: 직접 실행 (개발용)**
```powershell
cd agent
go run main.go
```

**방법 2: 빌드 후 실행**
```powershell
cd agent
go build -o gopc-agent.exe
./gopc-agent.exe
```

에이전트가 서버에 연결되면 다음과 같은 메시지가 표시됩니다:
```
connecting to ws://localhost:8080/ws-agent
Attempting to connect...
Connected to server
```

### 4. 대시보드 접속

웹 브라우저를 열고 다음 주소로 접속:
```
http://localhost:8080
```

## 실행 순서 요약

1. **서버 먼저 실행** (포트 8080에서 대기)
2. **에이전트 실행** (서버에 연결 시도)
3. **브라우저에서 대시보드 접속** (http://localhost:8080)

## 여러 에이전트 실행

여러 PC를 관리하려면 각 PC에서 에이전트를 실행하면 됩니다.
- 각 에이전트는 동일한 서버 주소로 연결합니다
- 서버 주소를 변경하려면 `agent/main.go`의 `serverAddr` 변수를 수정하세요

## 서버 주소 변경

에이전트가 다른 서버에 연결하려면 `agent/main.go` 파일을 수정:

```go
serverAddr := "서버IP:8080"  // 예: "192.168.1.100:8080"
```

## 문제 해결

### 포트가 이미 사용 중인 경우
- 다른 프로그램이 8080 포트를 사용하고 있을 수 있습니다
- `server/main.go`에서 포트 번호를 변경하거나, 해당 프로그램을 종료하세요

### 에이전트가 연결되지 않는 경우
- 서버가 실행 중인지 확인하세요
- 방화벽 설정을 확인하세요
- 서버 주소가 올바른지 확인하세요

### 빌드 오류가 발생하는 경우
```powershell
# 의존성 다시 다운로드
go mod tidy
go mod download
```

